(this["webpackJsonplabor-posting"]=this["webpackJsonplabor-posting"]||[]).push([[0],{137:function(e,t,a){},216:function(e,t,a){e.exports=a(393)},224:function(e,t,a){},225:function(e,t,a){},307:function(e,t,a){},308:function(e,t,a){},317:function(e,t,a){},324:function(e,t,a){},325:function(e,t,a){},338:function(e,t,a){},339:function(e,t,a){},340:function(e,t,a){},341:function(e,t,a){},374:function(e,t,a){},375:function(e,t,a){},392:function(e,t,a){},393:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(7),c=a.n(l),o=(a(221),a(222),a(223),a(224),a(225),a(394)),i=a(111),u=a(40),m=a(48),E=a(401),s=a(402),p=a(57),d=function(e){e.keyValue,e.data;var t=Object(p.f)();Object(p.g)();return r.a.createElement("div",null,r.a.createElement(i.a,{overlay:r.a.createElement(u.a,{onClick:function(e){"add"===e.key&&t.push("labor-review-and-posting-add-labor-record")}},r.a.createElement(u.a.Item,{key:"add",icon:r.a.createElement(E.a,null)},"Add a Labor Record"))},r.a.createElement(m.a,null,r.a.createElement(s.a,null))))},f=o.a.Header,b=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(f,null,r.a.createElement("div",{className:"logo"},"supervisor"===e.for?r.a.createElement("div",{className:"supervisor"},r.a.createElement(d,null),"  ",r.a.createElement("h3",{className:"logo-white"},"Logo")):r.a.createElement("h3",{className:"logo-white"},"Logo"))))},g=a(9),h=a(400),O=a(3),y=a(19),v=a.n(y),_=a(148),T=a(25),A=function(e,t){var a=t.payload;switch(t.type){case"GET_WORK_CELL":return Object(T.a)({},e,{workCellData:a});case"GET_PANEL_SHOP":return Object(T.a)({},e,{panelShop:a});case"GET_KEY_DATA":return Object(T.a)({},e,{keyData:[].concat(Object(_.a)(e.keyData),[a])});case"GET_KEY_DATA_EMPTY":return Object(T.a)({},e,{keyData:[]});case"GET_WORK_ORDER":return Object(T.a)({},e,{laborActivity:a});case"GET_LABOR_CONFIRM":return Object(T.a)({},e,{laborConfirm:a});case"GET_PENDING_LABOR":return Object(T.a)({},e,{pendingLabor:a});case"GET_PENDING_LABOR_RECORD":return Object(T.a)({},e,{pendingLaborRecord:a});case"GET_START_TIME":return Object(T.a)({},e,{startTime:a});case"GET_IS_ACTIVE":return Object(T.a)({},e,{isActive:a});case"GET_BREADCURMB":return Object(T.a)({},e,{breadcurmbList:[].concat(Object(_.a)(e.breadcurmbList),[a])});case"ERROR":return Object(T.a)({},e,{error:a});default:return e}},k=a(24),R=a.n(k),L="http://34.206.72.199:3010/api/pc",N=function(){return R.a.get("".concat(L,"/workCells/")).then((function(e){return e.data}))},w=function(e){return R.a.get("".concat(L,"/employee/").concat(e)).then((function(e){return e.data}))},C=function(e){return R.a.get("".concat(L,"/checkWorkOrder/").concat(e)).then((function(e){return e.data}))},j="http://34.206.72.199:3010/api/pc",D=function(){return R.a.get("".concat(j,"/pendingLabor")).then((function(e){return e.data}))},P=function(e){return R.a.delete("".concat(j,"/pendingLabor/").concat(e)).then((function(e){return e.data}))},S=function(e){var t={wOrder:e};return R.a.get("".concat(j,"/pendingLabor/"," ","/"," ","/").concat(t.wOrder)).then((function(e){return v.a.filter(e.data,(function(e){if("I"===e.STATUS)return e}))}))},I={workCellData:[],panelShop:[],jobPosting:[],keyData:[],laborActivity:[],laborConfirm:{},pendingLabor:{},startTime:0,endTime:null,isActive:!1,pendingLaborRecord:{},laborPostingFilter:{},error:{},breadcurmbList:[]},M=Object(n.createContext)(I),G=function(e){var t=e.children,a=Object(n.useReducer)(A,I),l=Object(O.a)(a,2),c=l[0],o=l[1],i=function(){o({type:"GET_KEY_DATA_EMPTY",payload:[]})};return r.a.createElement(M.Provider,{value:{workCellData:c.workCellData,panelShop:c.panelShop,keyData:c.keyData,laborActivity:c.laborActivity,laborConfirm:c.laborConfirm,pendingLabor:c.pendingLabor,startTime:c.startTime,endTime:c.endTime,isActive:c.isActive,pendingLaborRecord:c.pendingLaborRecord,laborPostingFilter:c.laborPostingFilter,error:c.error,breadcurmbList:c.breadcurmbList,getWorkCell:function(){N().then((function(e){o({type:"GET_WORK_CELL",payload:e})}))},getPendingLabor:function(){D().then((function(e){o({type:"GET_PENDING_LABOR",payload:e})}))},getPanalShop:function(e){w(e).then((function(e){o({type:"GET_PANEL_SHOP",payload:e})}))},getKeyData:function(e,t){if("workcell"===e&&(i(),o({type:"GET_KEY_DATA",payload:t})),"panel_shop"===e){var a=c.keyData;a.splice(1,a.length-1),o({type:"GET_KEY_DATA",payload:t})}if("post_labor"===e){var n=c.keyData;n.splice(2,n.length-1),o({type:"GET_KEY_DATA",payload:t})}if("work_center"===e){var r=c.keyData;r.splice(3,r.length-1),o({type:"GET_KEY_DATA",payload:t})}},getWorkOrder:function(e){var t=c.keyData[0].DEPARTMENT_KEY;C(e).then((function(a){null===a[0].STATUS_MESSAGE?function(e,t){return R.a.get("".concat(L,"/laborActivity/").concat(e,"/").concat(t)).then((function(e){return e.data}))}(t,e).then((function(e){o({type:"GET_WORK_ORDER",payload:e})})):o({type:"ERROR",payload:a})}))},getLaborConfirm:function(e){(function(e){e.deptKey,e.woNo,e.plantKey,e.wcellKey,e.wcenterKey,e.employee;return R.a.get("".concat(L,"/laborConfirm/31/3443151/97/2/157/55")).then((function(e){return e.data}))})(e).then((function(e){o({type:"GET_LABOR_CONFIRM",payload:e})}))},keyEmpty:i,startTimer:function(e){o({type:"GET_START_TIME",payload:e})},isActiveFun:function(e){o({type:"GET_IS_ACTIVE",payload:e})},getPendingLaborRecord:function(e){D().then((function(t){var a=v.a.find(t,(function(t){if(t.KEY==e)return t}));o({type:"GET_PENDING_LABOR_RECORD",payload:a})}))},getLaborPostingFilter:function(e){S(e).then((function(e){o({type:"GET_LABOR_POSTING_FILTER",payload:e})}))},getBreadcurmbList:function(e,t){o({type:"GET_BREADCURMB",payload:{path:e,name:t}})}}},t)},K=function(e){e.href,e.name;var t=Object(n.useContext)(M).breadcurmbList,a=v.a.uniqBy(t,(function(e){return e.name})),l=r.a.createElement("p",null);return a.length>0&&(l=r.a.createElement(h.a,null,a.map((function(e,t){return r.a.createElement(h.a.Item,{onClick:function(t){return function e(t){var n=a.findIndex((function(e){if(e.name===t.name)return e}));a.splice(n,a.length),console.log(a),l=r.a.createElement(h.a,null,a.length>0?a.map((function(t,a){return r.a.createElement(h.a.Item,{onClick:function(a){return e(t)}},r.a.createElement(g.b,{key:a,to:t.path},t.name))})):r.a.createElement("p",null))}(e)}},r.a.createElement(g.b,{key:t,to:e.path},e.name))})))),r.a.createElement(r.a.Fragment,null,l)};a(307);var W=function(e){var t,a=Object(n.useContext)(M).keyData,l=Object(p.g)(),c=a.length>0?"/panel-shop/".concat(a[0].DEPARTMENT_KEY):"/";return"/labor-tracker"===l.pathname?r.a.createElement("div",{className:"main-flex"},r.a.createElement("div",null,r.a.createElement(K,null))):"/progress-timers"===l.pathname?r.a.createElement("div",{className:"main-flex"},r.a.createElement("div",null,r.a.createElement(K,null)),r.a.createElement("div",null,r.a.createElement(g.b,{to:c},"Track Another Job in this Work Cell"))):(t=r.a.createElement("div",{className:"main-flex"},r.a.createElement("div",null,r.a.createElement(K,null)),r.a.createElement("div",null,r.a.createElement(g.b,{to:"/progress-timers"},"See All In Progress"))),r.a.createElement(r.a.Fragment,null,t))},x=a(191),Y=(a(308),function(){return r.a.createElement("section",{className:"spinner"},r.a.createElement(x.a,{size:"large"}))}),B=a(37),F=a(397),H=(a(317),{background:"#bfbfbf",padding:"8px 0"});var V=function(e){var t=e.text,a=e.onClickHandler,n=e.name;return r.a.createElement(r.a.Fragment,null,r.a.createElement(B.a,{className:"gutter-row",span:6},r.a.createElement(F.a,{hoverable:!0,style:H,className:"card-body",onClick:a},r.a.createElement("p",null,t,"   "),r.a.createElement("p",null,n))))},J=(a(324),a(403));function U(e){var t=e.content,a=e.track,n=e.color;return r.a.createElement("div",{className:"page-header-flex"},r.a.createElement("div",{className:"main-title"},r.a.createElement("h3",{style:{color:n}},t)),a?r.a.createElement("div",{className:"plus-icons"},r.a.createElement("span",null,r.a.createElement(J.a,null))," ",r.a.createElement(g.b,{to:"/"},"Link Another Job in this Work Cell")):null)}var q={WORKCELL:"Clock in to a Work Cell",JOBPOSTING:"Which Job Are You Posting Labor To",LABORCONFIRM:"Post Labor To",WORKORDER:"Work Order",CUSTOMER:"Customer",PLANT:"Plant",DEPARTMENT:"Department",WORKCELLS:"Work Cell",EMPLOYEE:"Employee",LOBARACTIVITY:"Labor Activity",WORKCELL_PROGRESS_TIMERS:"Work Cell Panal Shop In Progress Timers ",PANALSHOP:"Which Employee is Posting Labor in Panel Shop Wiring",LABOR_ACTIVITY:"Which labor Activity is Being Performed",PROGRESS_TIME:"In Progress Timer",REVIEW_TIMER:"Review Timer",LABOR_RATE:["Standard Rate","Standard Rate 2","Standard Rate 3","Standard Rate 4"]},z=a(84),$=function(){var e=Object(n.useState)(1),t=Object(O.a)(e,2),a=t[0],l=(t[1],Object(n.useContext)(M)),c=l.getWorkCell,o=l.workCellData,i=l.getKeyData,u=l.getPanalShop,m=l.getBreadcurmbList,E=Object(p.f)();Object(n.useEffect)((function(){c()}),[a]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(U,{content:q.WORKCELL}),r.a.createElement(z.a,{gutter:16},o.length>=1?o.map((function(e,t){return r.a.createElement(V,{key:e.KEY,text:e.DEPARTMENT_NAME,name:e.WORK_CELL_NAME,onClickHandler:function(){return function(e,t){var a;o.map((function(t){t.DEPARTMENT_KEY===e&&(a=t)})),u(e),i("workcell",a),m("/workcell",t),E.push("/panel-shop/".concat(e))}(e.DEPARTMENT_KEY,e.WORK_CELL_NAME)}})})):r.a.createElement(Y,null)))},Q=function(){var e=Object(n.useContext)(M),t=e.panelShop,a=e.getBreadcurmbList,l=e.getKeyData,c=e.keyData,o=Object(p.h)().id,i=Object(p.f)();return Object(n.useEffect)((function(){0===c.length&&i.push("/work-cell")}),[1]),r.a.createElement(r.a.Fragment,null,r.a.createElement(U,{content:q.PANALSHOP}),r.a.createElement(z.a,{gutter:16},t.length>=1?t.map((function(e,n){return r.a.createElement(V,{key:n,text:"#".concat(e.EMPLOYEE),name:e.NAME,onClickHandler:function(){return function(e,n){var r;t.map((function(t){t.EMPLOYEE===e&&(r=t)})),l("panel_shop",r),a("/panel-shop/".concat(o),n),i.push("/job-posting-employee/".concat(e))}(e.EMPLOYEE,e.NAME)}})})):null))},X=(a(325),a(398));a(338);var Z=a(17),ee=a.n(Z);a(339);var te=function(e){var t=e.timerHandler,a=e.name,l=e.time,c=e.hours,o=e.color,i=e.border,u=e.txtColor,m=e.width,E=e.height,s=Object(n.useState)(0),p=Object(O.a)(s,2),d=p[0],f=p[1],b=Object(n.useState)(!0),g=Object(O.a)(b,2),h=g[0],y=(g[1],Object(n.useState)(l)),v=Object(O.a)(y,2),_=v[0],T=v[1];return Object(n.useEffect)((function(){var e=null;return h?e=setInterval((function(){if(f((function(e){return e+1})),"null"!==_){var e=void 0!==l?l.split(" "):"0 0",t=ee()().format("MM-DD-YYYY h:mm:ss"),a=ee()(ee()(t).diff(ee()(e[1],"hh:mm:ss"))).format("hh:mm:ss");f((function(e){return e+1})),T(a)}}),1e3):h||0===d||clearInterval(e),function(){return clearInterval(e)}}),[h,d]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"ui-timer-button",style:{background:o,border:"1px solid ".concat(i),color:u,width:m,height:E},onClick:t},r.a.createElement("p",null,a),r.a.createElement("p",null,"null"!==_?_:"and"),r.a.createElement("p",null,c)))};a(340);var ae=function(e){var t=e.employe,a=e.wOrder,n=e.activity,l=e.start_time,c=e.start_time_count,o=e.employeName,i=e.wcName,u=e.woDes,m=e.timerHandler,E={padding:"8px 0"},s={bold:{fontWeight:"bold"},colorGreen:{color:"green",padding:"8px 0",fontWeight:"500"}};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"ui-grid-progress"},r.a.createElement("hr",null),r.a.createElement(z.a,{gutter:{xs:8,sm:16,md:24,lg:32}},r.a.createElement(B.a,{className:"gutter-row",span:3},r.a.createElement("div",{style:E},r.a.createElement("p",null,"Employee"),r.a.createElement("p",null,"Work Order"),r.a.createElement("p",null,"Labor Activity"))),r.a.createElement(B.a,{className:"gutter-row",span:3},r.a.createElement("div",{style:s.bold,className:"ui-grid-progress__grid"},r.a.createElement("p",null,t),r.a.createElement("p",null,a),r.a.createElement("p",null,n))),r.a.createElement(B.a,{className:"gutter-row",span:8},r.a.createElement("div",{style:E,className:"ui-grid-progress__grid"},r.a.createElement("p",{style:s.bold},o),r.a.createElement("p",null,u," "),r.a.createElement("p",{style:s.bold},i," "))),r.a.createElement(B.a,{className:"gutter-row",span:4},r.a.createElement("div",{className:"ui-grid-progress__grid"},r.a.createElement("p",{style:s.colorGreen},"Start Time"),r.a.createElement("p",{style:s.bold},l))),r.a.createElement(B.a,{className:"gutter-row end",span:6},r.a.createElement("div",{style:E,className:"ui-grid-progress__grid"},r.a.createElement(te,{name:"Elasped",time:c,hours:"HoursMinutes",color:"green",timerHandler:m}))))))},ne=a(94),re=a(399);a(147),a(395),a(341),ne.a.Option,X.a.TextArea,a(374);a(375);var le=a(108),ce=a(109),oe=a(112),ie=a(110),ue=a(93),me=a(113),Ee=(a(137),function(e){function t(){var e,a;Object(le.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(oe.a)(this,(e=Object(ie.a)(t)).call.apply(e,[this].concat(r)))).refresh=function(){return!0},a.deleteItem=function(e){return P(e).then((function(e){e&&(re.a.success("successfully deleted"),setTimeout((function(){window.location.reload(!1)}),2e3))}))},a}return Object(me.a)(t,e),Object(ce.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.match,n=t.itemKey,l=(t.allowDelete,t.allowEdit),c=(t.deleteTooltip,t.deleteFunction,r.a.createElement(u.a,null,r.a.createElement(u.a.Item,{key:"0"},r.a.createElement(g.b,{to:"".concat(a.url,"/").concat(n)},"View")),r.a.createElement(u.a.Item,{key:"1"},r.a.createElement(g.b,{to:"".concat(a.url,"/edit/").concat(n)},l?"Edit":"View")),r.a.createElement(u.a.Item,{key:"delete",icon:r.a.createElement(E.a,null)},r.a.createElement("a",{href:"#",onClick:function(t){window.confirm("Are you sure you wish to delete this item?")&&e.deleteItem(n)}},"Delete"))));return r.a.createElement(i.a,{overlay:c,trigger:["click"]},r.a.createElement("a",{className:"ant-dropdown-link",href:"#"},r.a.createElement(s.a,null)))}}]),t}(r.a.Component)),se=Object(p.i)(Ee),pe=a(205),de=(n.Component,ne.a.Option,X.a.TextArea,a(396),ne.a.Option,X.a.TextArea,a(392),function(){var e=Object(n.useContext)(M),t=e.getPendingLabor,a=e.pendingLabor,l=(e.startTime,Object(n.useState)(1)),c=Object(O.a)(l,2),o=c[0],i=(c[1],Object(n.useState)("All")),u=Object(O.a)(i,2),m=u[0],E=(u[1],ne.a.Option),s=Object(p.f)();Object(n.useEffect)((function(){t()}),[o]);var d,f=a.length>0?v.a.orderBy(a,["KEY"],["desc"]):null;return f?(d=v.a.filter(f,(function(e){return null===e.STOP_TIME})).map((function(e,t){var a=v.a.split(e.START_TIME," ")[1];return r.a.createElement(ae,{key:t,employe:e.EMPLOYEE_KEY,wOrder:e.WORK_ORDER_NUMBER,activity:"22",start_time:a,start_time_count:e.START_TIME,employeName:e.EMPLOYEE_NAME,wcName:e.WORK_CELL_NAME,woDes:e.WO_DESCRIPTION,timerHandler:function(){return t=e.KEY,void s.push("/progress-time-stop/".concat(t));var t}})})),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"labor-tracker"},r.a.createElement("div",{className:"__work-order"},r.a.createElement("div",{className:"__mr-2"},r.a.createElement("p",null,"Work Cell")),r.a.createElement("div",null,r.a.createElement(X.a.Group,{compact:!0},r.a.createElement(ne.a,{value:m,name:"workCell"},r.a.createElement(E,{value:"All"},"All"))))),r.a.createElement("div",{style:{marginRight:"25px",textAlign:"center"}},r.a.createElement("p",null,"Click a timer to access ",r.a.createElement("br",null)," the job "))),d)):r.a.createElement(Y,null)}),fe=a(404),be=o.a.Content;function ge(){var e,t=Object(p.f)();return console.log("---",window.location.pathname),e="/work-cell"===window.location.pathname?null:r.a.createElement(o.a,{className:"layout"},r.a.createElement(be,{style:{padding:"0 50px"}},r.a.createElement(m.a,{type:"primary",className:"back-button",onClick:function(){t.goBack()},icon:r.a.createElement(fe.a,null)},"Back"))),window.location.pathname.includes("/labor-review-and-posting")&&(e=null),"/labor-tracker"===window.location.pathname&&(e=null),r.a.createElement(r.a.Fragment,null,e)}var he=o.a.Content,Oe=function(){var e=Object(p.g)(),t=Object(n.useContext)(M);t.keyData,t.getKeyData,t.getPendingLabor,t.isActive,t.isActiveFun,Object(p.h)().id;return r.a.createElement(G,null,r.a.createElement(n.Suspense,{fallback:r.a.createElement(Y,null)}," ",e.pathname.includes("labor-review-and-posting")?r.a.createElement(b,{for:"supervisor"}):r.a.createElement(r.a.Fragment,null,r.a.createElement(b,null),r.a.createElement(W,null)),r.a.createElement(o.a,{className:"layout"},r.a.createElement(he,{style:{padding:"0 50px"}},r.a.createElement(p.a,{exact:!0,path:"/labor-tracker",component:de}),r.a.createElement(p.c,null,r.a.createElement(p.a,{exact:!0,path:"/work-cell",component:$}),r.a.createElement(p.a,{exact:!0,path:"/",component:$}),r.a.createElement(p.a,{exact:!0,path:"/",component:Q})))),r.a.createElement(ge,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(g.a,null,r.a.createElement(Oe,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[216,1,2]]]);
//# sourceMappingURL=main.8958646b.chunk.js.map