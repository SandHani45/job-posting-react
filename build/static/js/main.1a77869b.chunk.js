(this["webpackJsonplabor-posting"]=this["webpackJsonplabor-posting"]||[]).push([[0],{137:function(e,t,a){},217:function(e,t,a){e.exports=a(394)},225:function(e,t,a){},226:function(e,t,a){},308:function(e,t,a){},309:function(e,t,a){},318:function(e,t,a){},325:function(e,t,a){},326:function(e,t,a){},339:function(e,t,a){},340:function(e,t,a){},341:function(e,t,a){},342:function(e,t,a){},375:function(e,t,a){},376:function(e,t,a){},393:function(e,t,a){},394:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(8),c=a.n(l),o=(a(222),a(223),a(224),a(225),a(226),a(395)),E=a(111),i=a(40),u=a(48),m=a(402),s=a(403),d=a(57),O=function(e){e.keyValue,e.data;var t=Object(d.g)();Object(d.h)();return r.a.createElement("div",null,r.a.createElement(E.a,{overlay:r.a.createElement(i.a,{onClick:function(e){"add"===e.key&&t.push("labor-review-and-posting-add-labor-record")}},r.a.createElement(i.a.Item,{key:"add",icon:r.a.createElement(m.a,null)},"Add a Labor Record"))},r.a.createElement(u.a,null,r.a.createElement(s.a,null))))},b=a(7),p=o.a.Header,_=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(p,null,r.a.createElement("div",{className:"logo"},"supervisor"===e.for?r.a.createElement("div",{className:"supervisor"},r.a.createElement(O,null)," ",r.a.createElement(b.b,{to:"/work-cell",className:"logo-white"},"Logo ")," ",r.a.createElement("h4",{className:"logo-white"}," Labor Time Tracker")," "):r.a.createElement("div",{className:"labor"},r.a.createElement(b.b,{to:"/work-cell",className:"logo-white"},"Logo ")," ",r.a.createElement("h4",{className:"logo-white"}," Labor Time Tracker")," "))))},T=a(401),R=a(3),g=a(19),f=a.n(g),N=a(148),A=a(23),h=function(e,t){var a=t.payload;switch(t.type){case"GET_WORK_CELL":return Object(A.a)({},e,{workCellData:a});case"GET_PANEL_SHOP":return Object(A.a)({},e,{panelShop:a});case"GET_KEY_DATA":return Object(A.a)({},e,{keyData:[].concat(Object(N.a)(e.keyData),[a])});case"GET_KEY_DATA_EMPTY":return Object(A.a)({},e,{keyData:[]});case"GET_WORK_ORDER":return Object(A.a)({},e,{laborActivity:a});case"GET_LABOR_CONFIRM":return Object(A.a)({},e,{laborConfirm:a});case"GET_PENDING_LABOR":return Object(A.a)({},e,{pendingLabor:a});case"GET_PENDING_LABOR_RECORD":return Object(A.a)({},e,{pendingLaborRecord:a});case"GET_START_TIME":return Object(A.a)({},e,{startTime:a});case"GET_IS_ACTIVE":return Object(A.a)({},e,{isActive:a});case"GET_BREADCURMB":return Object(A.a)({},e,{breadcurmbList:[].concat(Object(N.a)(e.breadcurmbList),[a])});case"ERROR":return Object(A.a)({},e,{error:a});default:return e}},L=a(25),v=a.n(L),C="http://34.206.72.199:3010/api/pc",M=function(){return v.a.get("".concat(C,"/workCells/")).then((function(e){return e.data}))},S=function(e){return v.a.get("".concat(C,"/employee/").concat(e)).then((function(e){return e.data}))},y=function(e){return v.a.get("".concat(C,"/checkWorkOrder/").concat(e)).then((function(e){return e.data}))},K="http://34.206.72.199:3010/api/pc",Y=function(){return v.a.get("".concat(K,"/pendingLabor")).then((function(e){return e.data}))},j=function(e){return v.a.get("".concat(K,"/pendingLabor/").concat(e)).then((function(e){return e.data}))},P=function(e,t){return v.a.put("".concat(K,"/pendingLabor/").concat(e),t).then((function(e){return e.data}))},D=function(e){return v.a.delete("".concat(K,"/pendingLabor/").concat(e)).then((function(e){return e.data}))},k=function(e){var t={wOrder:e};return v.a.get("".concat(K,"/pendingLabor/"," ","/"," ","/").concat(t.wOrder)).then((function(e){return f.a.filter(e.data,(function(e){if("I"===e.STATUS)return e}))}))},I={workCellData:[],panelShop:[],jobPosting:[],keyData:[],laborActivity:[],laborConfirm:{},pendingLabor:{},startTime:0,endTime:null,isActive:!1,pendingLaborRecord:{},laborPostingFilter:{},error:{},breadcurmbList:[]},w=Object(n.createContext)(I),W=function(e){var t=e.children,a=Object(n.useReducer)(h,I),l=Object(R.a)(a,2),c=l[0],o=l[1],E=function(){o({type:"GET_KEY_DATA_EMPTY",payload:[]})};return r.a.createElement(w.Provider,{value:{workCellData:c.workCellData,panelShop:c.panelShop,keyData:c.keyData,laborActivity:c.laborActivity,laborConfirm:c.laborConfirm,pendingLabor:c.pendingLabor,startTime:c.startTime,endTime:c.endTime,isActive:c.isActive,pendingLaborRecord:c.pendingLaborRecord,laborPostingFilter:c.laborPostingFilter,error:c.error,breadcurmbList:c.breadcurmbList,getWorkCell:function(){M().then((function(e){o({type:"GET_WORK_CELL",payload:e})}))},getPendingLabor:function(){Y().then((function(e){o({type:"GET_PENDING_LABOR",payload:e})}))},getPanalShop:function(e){S(e).then((function(e){o({type:"GET_PANEL_SHOP",payload:e})}))},getKeyData:function(e,t){if("workcell"===e&&(E(),o({type:"GET_KEY_DATA",payload:t})),"panel_shop"===e){var a=c.keyData;a.splice(1,a.length-1),o({type:"GET_KEY_DATA",payload:t})}if("post_labor"===e){var n=c.keyData;n.splice(2,n.length-1),o({type:"GET_KEY_DATA",payload:t})}if("work_center"===e){var r=c.keyData;r.splice(3,r.length-1),o({type:"GET_KEY_DATA",payload:t})}},getWorkOrder:function(e){return new Promise((function(t,a){var n=c.keyData[0].DEPARTMENT_KEY;y(e).then((function(r){if(r.length>0)null===r[0].STATUS_MESSAGE&&function(e,t){return v.a.get("".concat(C,"/laborActivity/").concat(e,"/").concat(t)).then((function(e){return e.data}))}(n,e).then((function(e){t(e),o({type:"GET_WORK_ORDER",payload:e})})).catch((function(e){return a(e)}));else{var l={status:"no data",message:"Please enter valid Work order No Data Found "};a(l),o({type:"ERROR",payload:l})}})).catch((function(e){return a(e)}))}))},getLaborConfirm:function(e){(function(e){e.deptKey,e.woNo,e.plantKey,e.wcellKey,e.wcenterKey,e.employee;return v.a.get("".concat(C,"/laborConfirm/31/3443151/97/2/157/55")).then((function(e){return e.data}))})(e).then((function(e){o({type:"GET_LABOR_CONFIRM",payload:e})}))},keyEmpty:E,startTimer:function(e){o({type:"GET_START_TIME",payload:e})},isActiveFun:function(e){o({type:"GET_IS_ACTIVE",payload:e})},getPendingLaborRecord:function(e){Y().then((function(t){var a=f.a.find(t,(function(t){if(t.KEY==e)return t}));o({type:"GET_PENDING_LABOR_RECORD",payload:a})}))},getLaborPostingFilter:function(e){k(e).then((function(e){o({type:"GET_LABOR_POSTING_FILTER",payload:e})}))},getBreadcurmbList:function(e,t){f.a.uniqBy(c.breadcurmbList,(function(e){return e.name}))&&o({type:"GET_BREADCURMB",payload:{path:e,name:t}})},breadcurmbAction:function(e,t){var a=c.breadcurmbList.findIndex((function(e){if(e.name===t)return e}));c.breadcurmbList.splice(a,c.breadcurmbList.length)}}},t)},B=function(){var e=Object(n.useContext)(w),t=e.breadcurmbList,a=e.breadcurmbAction;return r.a.createElement(r.a.Fragment,null,r.a.createElement(T.a,null,t.length>0?t.map((function(e,t){return r.a.createElement(T.a.Item,{onClick:function(t){return function(e){a(e.path,e.name)}(e)}},r.a.createElement(b.b,{key:t,to:e.path},e.name))})):null))},x=a(404);a(308);var G=function(e){var t,a=Object(n.useContext)(w).keyData,l=Object(d.h)(),c=a.length>0?"/panel-shop/".concat(a[0].DEPARTMENT_KEY):"/";return l.pathname.includes("/labor-tracker")?r.a.createElement("div",{className:"main-flex"},r.a.createElement("div",null)):l.pathname.includes("/progress-timers")?r.a.createElement("div",{className:"main-flex"},r.a.createElement("div",null),r.a.createElement("div",{className:"icon-link"},r.a.createElement("span",null,r.a.createElement(x.a,null))," ",r.a.createElement(b.b,{to:c},"Track Another Job in this Work Cell"))):(t=r.a.createElement("div",{className:"main-flex"},r.a.createElement("div",null,r.a.createElement(B,null)),r.a.createElement("div",null,r.a.createElement(b.b,{to:"/progress-timers"},"See All In Progress Timers"))),r.a.createElement(r.a.Fragment,null,t))},F=a(191),U=(a(309),function(){return r.a.createElement("section",{className:"spinner"},r.a.createElement(F.a,{size:"large"}))}),H=a(37),V=a(398),J=(a(318),{background:"#bfbfbf",padding:"8px 0"});var q=function(e){var t,a=e.text,n=e.onClickHandler,l=e.name;return null===e.outline&&(t="outline"),r.a.createElement(r.a.Fragment,null,r.a.createElement(H.a,{className:"gutter-row mg",xs:20,sm:20,md:10,lg:8,xl:10},r.a.createElement(V.a,{hoverable:!0,style:J,className:"card-body ".concat(t),onClick:n},r.a.createElement("p",null,a," "),r.a.createElement("p",null,l))))};a(325);function z(e){var t=e.content,a=e.track,n=e.progress,l=e.color;return r.a.createElement("div",{className:"page-header-flex"},r.a.createElement("div",{className:"main-title"},r.a.createElement("h3",{style:{color:l}},t)),a?r.a.createElement("div",{className:"plus-icons"},r.a.createElement("span",null,r.a.createElement(x.a,null))," ",r.a.createElement(b.b,{to:"/"},"Link Another Job in this Work Cell")):null,n?r.a.createElement("div",{style:{marginRight:"25px",textAlign:"center"}},r.a.createElement("p",null,"Click any timer to return  ",r.a.createElement("br",null)," to that job ")):null)}var X={WORKCELL:"Clock into a Work Cell",JOBPOSTING:"Which Job Are You Posting Labor To",LABORCONFIRM:"Post Labor To",WORKORDER:"Work Order",CUSTOMER:"Customer",PLANT:"Plant",DEPARTMENT:"Department",WORKCELLS:"Work Cell",EMPLOYEE:"Employee",LOBARACTIVITY:"Labor Activity",WORKCELL_PROGRESS_TIMERS:"Work Cell Panal Shop Wiring In Progress Timers ",PANALSHOP:"Which Employee is Posting Labor in Panel Shop Wiring",LABOR_ACTIVITY:"Which labor Activity is Being Performed",PROGRESS_TIME:"In Progress Timer",REVIEW_TIMER:"Review Timer",LABOR_RATE:["Standard Rate","Standard Rate 2","Standard Rate 3","Standard Rate 4"]},$=a(86),Q=a(16),Z=a.n(Q),ee=function(){var e=Object(n.useState)(1),t=Object(R.a)(e,2),a=t[0],l=(t[1],Object(n.useContext)(w)),c=l.getWorkCell,o=l.workCellData,E=l.getKeyData,i=l.getPanalShop,u=l.getBreadcurmbList,m=Object(d.g)();Object(n.useEffect)((function(){c()}),[a]);Z.a.duration("23:59:59");return r.a.createElement(r.a.Fragment,null,r.a.createElement(z,{content:X.WORKCELL}),r.a.createElement($.a,{gutter:{xs:16,sm:16,md:16,lg:16}},o.length>=1?o.map((function(e,t){return r.a.createElement(q,{key:e.KEY,text:e.DEPARTMENT_NAME,name:e.WORK_CELL_NAME,onClickHandler:function(){return function(e,t){var a;o.map((function(t){t.DEPARTMENT_KEY===e&&(a=t)})),i(e),E("workcell",a),u("/workcell",t),m.push("/panel-shop/".concat(e))}(e.DEPARTMENT_KEY,e.WORK_CELL_NAME)}})})):r.a.createElement(U,null)))},te=a(405),ae=o.a.Content;function ne(){Object(d.i)().id;var e=Object(n.useContext)(w),t=e.breadcurmbList,a=e.breadcurmbAction,l=Object(d.g)();return r.a.createElement(r.a.Fragment,null,r.a.createElement(o.a,{className:"layout"},r.a.createElement(ae,null,r.a.createElement(u.a,{type:"primary",className:"back-button",onClick:function(){var e=t.length-1;console.log(t,e),l.push(t[e].path),a(t[e].path,t[e].name)},icon:r.a.createElement(te.a,null)},"Back"))))}var re=function(){var e=Object(n.useContext)(w),t=e.panelShop,a=e.getBreadcurmbList,l=e.getKeyData,c=e.keyData,o=(e.breadcurmbList,e.breadcurmbAction,Object(d.i)().id),E=Object(d.g)();return Object(n.useEffect)((function(){0===c.length&&E.push("/work-cell")}),[1]),r.a.createElement(r.a.Fragment,null,r.a.createElement(z,{content:X.PANALSHOP}),r.a.createElement($.a,{gutter:16},t.length>=1?t.map((function(e,n){return r.a.createElement(q,{key:n,text:"#".concat(e.EMPLOYEE),name:e.NAME,onClickHandler:function(){return function(e,n){var r;t.map((function(t){t.EMPLOYEE===e&&(r=t)})),l("panel_shop",r),a("/panel-shop/".concat(o),n),E.push("/job-posting-employee/".concat(e))}(e.EMPLOYEE,e.NAME)}})})):null),r.a.createElement(ne,null))},le=(a(326),a(399)),ce=function(e){var t=Object(d.i)().id,a=Object(n.useState)(1),l=Object(R.a)(a,2),c=l[0],o=(l[1],Object(n.useState)()),E=Object(R.a)(o,2),i=E[0],m=E[1],s=Object(n.useState)(!1),O=Object(R.a)(s,2),b=O[0],p=O[1],_=Object(n.useContext)(w),T=_.keyData,g=_.getWorkOrder,f=_.getKeyData,N=_.getBreadcurmbList,A=Object(d.g)();Object(n.useEffect)((function(){0===T.length&&A.push("/work-cell")}),[c]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(z,{content:X.JOBPOSTING}),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"job-posting"},r.a.createElement("div",{className:"bold"},"WO #"),r.a.createElement("div",null,r.a.createElement(le.a,{type:"number",onChange:function(e){m(e.target.value)}})),r.a.createElement("div",null,r.a.createElement(u.a,{type:"primary",onClick:function(){var e={workOrderPosting:i};g(i).then((function(a){f("post_labor",e),N("/job-posting-employee/".concat(t),"WO ".concat(i)),A.push("/labor-activity/".concat(i))})).catch((function(e){return p(!0)}))}},"Enter"))),r.a.createElement("div",{className:"job-posting"},console.log("--",b),b&&r.a.createElement("p",{className:"error"}," * Please enter valid Work order"))),r.a.createElement(ne,null))},oe=function(e){var t=Object(n.useContext)(w),a=t.keyData,l=t.laborActivity,c=t.getBreadcurmbList,o=t.getKeyData,E=t.getLaborConfirm,i=Object(d.g)(),u=Object(d.i)().id;Object(n.useEffect)((function(){0===a.length&&i.push("/work-cell")}),[1]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(z,{content:X.LABOR_ACTIVITY}),r.a.createElement($.a,{gutter:16},l.length>0?l.map((function(e,t){return r.a.createElement(q,{key:t,text:"#".concat(e.CODE),name:e.DESCRIPTION,outline:e.WODEXISTS,onClickHandler:function(){return function(e,t){var n;l.map((function(t){t.CODE===e&&(n=t)}));var r={deptKey:a[0].DEPARTMENT_KEY,woNo:a[2].workOrderPosting,plantKey:a[0].PLANT_KEY,wcellKey:a[0].KEY,wcenterKey:n.KEY,employee:n.CODE};E(r),o("work_center",n),c("/labor-activity/".concat(u),"".concat(e," ").concat(t)),i.push("/labor-confirm")}(e.CODE,e.DESCRIPTION)}})})):"No Data"),r.a.createElement(ne,null))};var Ee=function(e){var t=e.title,a=e.number,n=e.desc,l=e.children;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"ui-grid"},r.a.createElement("p",null,t),r.a.createElement("p",null,a||l),r.a.createElement("p",null,n)))},ie=(a(339),function(e){var t=Object(n.useContext)(w),a=t.keyData,l=(t.getPendingLabor,t.startTime,t.laborActivity,t.startTimer),c=t.laborConfirm,o=Object(n.useState)(0),E=Object(R.a)(o,2),i=E[0],m=E[1],s=Object(n.useState)(!1),O=Object(R.a)(s,2),b=O[0],p=O[1],_=Object(d.g)();Object(n.useEffect)((function(){0===a.length&&_.push("/work-cell");var e=null;return b?e=setInterval((function(){m((function(e){return e+1})),l(i)}),1e3):b||0===i||clearInterval(e),function(){return clearInterval(e)}}),[b,i]);return r.a.createElement(r.a.Fragment,null,c.length>0?r.a.createElement(r.a.Fragment,null,r.a.createElement(z,{content:X.LABORCONFIRM}),console.log(a),r.a.createElement($.a,{gutter:{xs:8,sm:16,md:24,lg:32}},r.a.createElement(H.a,{className:"gutter-row",span:24},r.a.createElement("div",null,r.a.createElement(Ee,{title:X.WORKORDER,number:c[0].WO_NUMBER,desc:c[0].WO_DESC}),r.a.createElement(Ee,{title:X.CUSTOMER,number:c[0].CUSTOMER,desc:c[0].CUSTOMER_NAME}),r.a.createElement(Ee,{title:X.PLANT,number:c[0].PLANT,desc:c[0].PLANT_NAME}),r.a.createElement(Ee,{title:X.DEPARTMENT,number:a[0].DEPARTMENT_KEY,desc:a[0].DEPARTMENT_NAME}),r.a.createElement(Ee,{title:X.WORKCELLS,number:a[0].KEY,desc:a[0].WORK_CELL_NAME}),r.a.createElement(Ee,{title:X.EMPLOYEE,number:c[0].EMPLOYEE,desc:c[0].EMP_NAME}),r.a.createElement(Ee,{title:X.LOBARACTIVITY,number:c[0].CODE,desc:c[0].DESCRIPTION}))),r.a.createElement(H.a,{className:"gutter-row",offset:12,span:8},r.a.createElement("div",null,r.a.createElement(u.a,{type:"primary",className:"start-button green",onClick:function(){p(!b);var e,t=new Date,n=["JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"][t.getMonth()],r=[[t.getDate(),n,t.getFullYear()].join("-"),(new Date).toLocaleString("en-GB").split(",")[1]].join(" "),l={PLANT_KEY:a[0].PLANT_KEY,DEPARTMENT_KEY:a[0].DEPARTMENT_KEY,EMPLOYEE_KEY:a[1].EMPLOYEE,WORK_CENTER_KEY:a[3].KEY,WORK_CELL_KEY:a[0].KEY,LABOR_CLASS:null,WORK_ORDER_NUMBER:parseInt(a[2].workOrderPosting),START_TIME:r,STOP_TIME:null,LABOR_TIME:null,LABOR_RATE_TYPE:null,STATUS:"I"};(e=l,v.a.post("".concat(K,"/pendingLabor"),e).then((function(e){return e.data}))).then((function(e){_.push("/progress-timers")}))}},"Start Tracking")," "))),r.a.createElement(ne,null)):null)}),ue=(a(340),function(e){var t=void 0!==e?e.split("-"):"",a=f.a.findIndex(["JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"],(function(e){return e==t[1]}));return a<10?"".concat(t[0],"-0").concat(a,"-").concat(t[2]):"".concat(t[0],"-").concat(a,"-").concat(t[2])}),me=function(e,t){var a=void 0!==e?e.split("-"):"",n=["JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"][parseInt(a[1],10)];return["".concat(a[0],"-").concat(n,"-").concat(a[1]),t].join(" ")},se=function(e){var t,a,n;return n=Math.floor(e/1e3),a=Math.floor(n/60),n%=60,t=Math.floor(a/60),a%=60,{day:Math.floor(t/24),hour:t%=24,minute:a,seconds:n}};var de=function(e){var t=e.timerHandler,a=e.name,l=e.time,c=e.hours,o=e.color,E=e.border,i=e.txtColor,u=e.width,m=e.height,s=Object(n.useState)(0),d=Object(R.a)(s,2),O=d[0],b=d[1],p=Object(n.useState)(!0),_=Object(R.a)(p,2),T=_[0],g=(_[1],Object(n.useState)(l)),f=Object(R.a)(g,2),N=f[0],A=f[1];return Object(n.useEffect)((function(){var e=null;return T?e=setInterval((function(){if(b((function(e){return e+1})),"null"!==N){var e=void 0!==l?l.split(" "):"0 0",t=new Date,a=t.getHours()+":"+t.getMinutes()+":"+t.getSeconds(),n=Z.a.duration(e[1]),r=Z.a.duration(a)._milliseconds-n._milliseconds,c=se(r),o=c.hour+":"+c.minute+":"+c.seconds;console.log(o),b((function(e){return e+1})),A(o)}}),1e3):T||0===O||clearInterval(e),function(){return clearInterval(e)}}),[T,O]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"ui-timer-button",style:{background:o,border:"1px solid ".concat(E),color:i,width:u,height:m},onClick:t},r.a.createElement("p",null,a),r.a.createElement("p",null,"null"!==N?N:"and"),r.a.createElement("p",null,c)))};a(341);var Oe=function(e){var t=e.employe,a=e.wOrder,n=e.activity,l=e.start_time,c=e.start_time_count,o=e.employeName,E=e.wcName,i=e.woDes,u=e.timerHandler,m={padding:"8px 0"},s={bold:{fontWeight:"bold"},colorGreen:{color:"green",fontWeight:"500"}};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"ui-grid-progress"},r.a.createElement("hr",null),r.a.createElement($.a,{gutter:{xs:8,sm:16,md:24,lg:32},className:"ui-grid-flex",style:s.bold},r.a.createElement(H.a,{className:"gutter-row",span:4},r.a.createElement("div",{style:m,className:"ui-grid-progress__grid"},r.a.createElement("p",null,"Employee"),r.a.createElement("p",null,"Work Order"),r.a.createElement("p",null,"Labor Activity"))),r.a.createElement(H.a,{className:"gutter-row",span:3},r.a.createElement("div",{style:s.bold,className:"ui-grid-progress__grid"},r.a.createElement("p",null,t),r.a.createElement("p",null,a),r.a.createElement("p",null,n))),r.a.createElement(H.a,{className:"gutter-row",span:7},r.a.createElement("div",{style:m,className:"ui-grid-progress__grid"},r.a.createElement("p",{style:s.bold},o),r.a.createElement("p",{style:s.bold},i," "),r.a.createElement("p",{style:s.bold},E," "))),r.a.createElement(H.a,{className:"gutter-row",span:4},r.a.createElement("div",{className:"ui-grid-progress__grid"},r.a.createElement("p",{style:s.colorGreen},"Start Time"),r.a.createElement("p",{style:s.bold},l))),r.a.createElement(H.a,{className:"gutter-row end",span:6},r.a.createElement("div",{style:m,className:"ui-grid-progress__grid"},r.a.createElement(de,{name:"Elasped",time:c,hours:"HoursMinutes",color:"green",timerHandler:u}))))))},be=function(){var e=Object(n.useContext)(w),t=e.getPendingLabor,a=e.pendingLabor,l=(e.startTime,Object(n.useState)(1)),c=Object(R.a)(l,2),o=c[0],E=(c[1],Object(d.g)());Object(n.useEffect)((function(){t()}),[o]);var i,u=a.length>0?f.a.orderBy(a,["KEY"],["desc"]):null;if(!u)return r.a.createElement(U,null);var m=f.a.filter(u,(function(e){return null===e.STOP_TIME}));return console.log(m),i=m.map((function(e,t){var a=f.a.split(e.START_TIME," ")[1];return r.a.createElement(Oe,{key:t,employe:e.EMPLOYEE_KEY,wOrder:e.WORK_ORDER_NUMBER,activity:"22",start_time:a,start_time_count:e.START_TIME,employeName:e.EMPLOYEE_NAME,wcName:e.WORK_CELL_NAME,woDes:null==e.WO_DESCRIPTION?"null":e.WO_DESCRIPTION,timerHandler:function(){return t=e.KEY,void E.push("/progress-time-stop/".concat(t));var t}})})),r.a.createElement(r.a.Fragment,null,r.a.createElement(z,{content:X.WORKCELL_PROGRESS_TIMERS,progress:!0}),i)},pe=a(94),_e=a(400),Te=a(147),Re=a(396),ge=(a(342),pe.a.Option),fe=le.a.TextArea,Ne=function(){var e=Object(d.g)(),t=Object(n.useContext)(w),a=t.pendingLaborRecord,l=t.workCellData,c=t.getWorkCell,o=Object(n.useState)([]),E=Object(R.a)(o,2),i=E[0],m=E[1],s=Object(n.useState)(""),O=Object(R.a)(s,2),b=O[0],p=O[1],_=Object(n.useState)(!1),T=Object(R.a)(_,2),g=T[0],f=T[1],N=Object(n.useState)(""),A=Object(R.a)(N,2),h=A[0],L=A[1],v=Object(n.useState)(""),C=Object(R.a)(v,2),M=C[0],y=C[1],K=Object(n.useState)(""),Y=Object(R.a)(K,2),D=Y[0],k=Y[1],I=Object(n.useState)(""),W=Object(R.a)(I,2),B=W[0],x=W[1],G=Object(n.useState)(""),F=Object(R.a)(G,2),U=F[0],V=F[1],J=Object(n.useState)(""),q=Object(R.a)(J,2),Q=q[0],ee=q[1],te=Object(n.useState)(""),ae=Object(R.a)(te,2),ne=ae[0],re=ae[1],ce=Object(n.useState)(""),oe=Object(R.a)(ce,2),ie=oe[0],se=oe[1],de=Object(n.useState)(X.LABOR_RATE[0]),Oe=Object(R.a)(de,2),be=(Oe[0],Oe[1],Object(n.useState)([])),Ne=Object(R.a)(be,2),Ae=Ne[0],he=Ne[1],Le=Object(n.useState)(null),ve=Object(R.a)(Le,2),Ce=ve[0],Me=ve[1];Object(n.useEffect)((function(){c(),j(a.KEY).then((function(e){m(e[0]);var t=e[0].START_TIME.split(" "),a=e[0].STOP_TIME.split(" ");console.log(ue(t[0])),y(t[1]),k(ue(t[0])),x(a[1]),V(ue(a[0])),ee(e[0].WORK_CELL_NAME),re(e[0].EMPLOYEE_NAME),L(e[0].WORK_ORDER_NUMBER),se(e[0].WORKCENTER_NAME)})),S(a.DEPARTMENT_KEY).then((function(e){he(e)}))}),[1]);var Se=r.a.createElement(r.a.Fragment,null,l.length>0?l.map((function(e,t){return r.a.createElement(ge,{key:t,value:e.WORK_CELL_NAME},e.WORK_CELL_NAME)})):null),ye=r.a.createElement(r.a.Fragment,null,Ae.length>0?Ae.map((function(e,t){return r.a.createElement(ge,{key:t,value:e.NAME},e.NAME)})):null);r.a.createElement(r.a.Fragment,null,X.LABOR_RATE.map((function(e,t){return r.a.createElement(ge,{key:t,value:e},e)})));return r.a.createElement(r.a.Fragment,null,r.a.createElement($.a,{gutter:{xs:8,sm:16,md:24,lg:32}},r.a.createElement("form",{onSubmit:function(t){t.preventDefault();var n=me(D,M),r=me(U,B),l={PLANT_KEY:null===Ce?i.PLANT_KEY:Ce.PLANT_KEY,DEPARTMENT_KEY:null===Ce?i.DEPARTMENT_KEY:Ce.DEPARTMENT_KEY,EMPLOYEE_KEY:a.EMPLOYEE_KEY,WORK_CENTER_KEY:a.WORK_CENTER_KEY,WORK_CELL_KEY:a.WORK_CELL_KEY,LABOR_CLASS:null,WORK_ORDER_NUMBER:h,START_TIME:n,STOP_TIME:r,NOTE:b,LABOR_TIME:null,LABOR_RATE_TYPE:null,STATUS:"C"};b.length>0?P(a.KEY,l).then((function(t){_e.a.success({content:"Successfully Recorded "}),e.push("/labor-record-complete/".concat(a.KEY))})):f(!0),console.log(l);a.PLANT_KEY,a.DEPARTMENT_KEY,a.EMPLOYEE_KEY,a.WORK_CENTER_KEY,a.WORK_CELL_KEY,a.WORK_ORDER_NUMBER,a.START_TIME,a.STOP_TIME},className:"labor-record-form"},r.a.createElement(H.a,{className:"gutter-row",span:12},r.a.createElement("div",null,r.a.createElement(z,{content:X.REVIEW_TIMER,color:"green"}),r.a.createElement(Ee,{title:"Work Order"},r.a.createElement(le.a,{placeholder:"",name:"workOrder",value:h,onChange:function(e){L(e.target.value)}})),r.a.createElement(Ee,{title:"Customar ",number:i.CUST_NAME}),r.a.createElement(Ee,{title:"Plant ",number:null===Ce?i.PLANT_KEY:Ce.PLANT_KEY}),r.a.createElement(Ee,{title:"Department",number:null===Ce?i.DEPARTMENT_KEY:Ce.DEPARTMENT_KEY,desc:null===Ce?i.DEPARTMENT_NAME:Ce.DEPARTMENT_NAME}),r.a.createElement(Ee,{title:"Work Cell"},r.a.createElement(le.a.Group,{compact:!0},r.a.createElement(pe.a,{value:Q,onChange:function(e){l.map((function(t){t.WORK_CELL_NAME===e&&(ee(e),Me(t),S(t.DEPARTMENT_KEY).then((function(e){he(e),re(e[0].NAME)})))}))}},Se))),r.a.createElement(Ee,{title:"Employee"},r.a.createElement(le.a.Group,{compact:!0},r.a.createElement(pe.a,{value:ne,onChange:function(e){l.map((function(t){if(e===t.WORK_CELL_NAME)return t}));re(e)}},ye))),r.a.createElement(Ee,{title:"Labor Activity"},r.a.createElement(le.a.Group,{compact:!0},r.a.createElement(pe.a,{value:ie},r.a.createElement(ge,null,ie)))),r.a.createElement(Ee,{title:"Start Time"},r.a.createElement("div",{className:"data-set"},r.a.createElement("div",null,r.a.createElement(le.a.Group,{compact:!0},r.a.createElement(Te.a,{onChange:function(e,t){k(t)},value:Z()(D,"DD-MM-YY"),format:"DD-MM-YYYY"}))),r.a.createElement("div",null,r.a.createElement(Re.a,{use12Hours:!0,format:"h:mm",onChange:function(e,t){y(t)},value:Z()(M,"HH:mm")})))),r.a.createElement(Ee,{title:"Stop Time"},r.a.createElement("div",{className:"data-set"},r.a.createElement("div",null,r.a.createElement(le.a.Group,{compact:!0},r.a.createElement(Te.a,{onChange:function(e,t){V(t)},value:Z()(U,"DD-MM-YYYY"),format:"DD-MM-YYYY"}))),r.a.createElement("div",null,r.a.createElement(Re.a,{use12Hours:!0,format:"h:mm",onChange:function(e,t){x(t)},value:Z()(B,"HH:mm")})))),r.a.createElement(Ee,{title:"Labor Hours",number:a.LABOR_TIME}))),r.a.createElement(H.a,{className:"gutter-row",span:12},r.a.createElement("div",null,r.a.createElement("p",null,"Note *"),r.a.createElement(fe,{rows:4,name:"note",value:b,onChange:function(e){p(e.target.value)},placeholder:"Note"}),g&&r.a.createElement("p",{className:"error-all"},"Note Required ")),r.a.createElement("div",{className:"check-time-button"},r.a.createElement("input",{type:"submit",className:"time-button yellow",value:"Complete Tracking"}),r.a.createElement(u.a,{type:"primary",className:"time-button",onClick:function(){var t=me(D,M),n=me(U,B),r={PLANT_KEY:null===Ce?i.PLANT_KEY:Ce.PLANT_KEY,DEPARTMENT_KEY:null===Ce?i.DEPARTMENT_KEY:Ce.DEPARTMENT_KEY,EMPLOYEE_KEY:a.EMPLOYEE_KEY,WORK_CENTER_KEY:a.WORK_CENTER_KEY,WORK_CELL_KEY:a.WORK_CELL_KEY,LABOR_CLASS:null,WORK_ORDER_NUMBER:h,START_TIME:t,STOP_TIME:n,NOTE:b,LABOR_TIME:null,LABOR_RATE_TYPE:null,STATUS:"C"};P(a.KEY,r).then((function(t){_e.a.success({content:"Successfully Recorded "}),e.push("/")}))}},"Complete Tracking And Start New Job"))))))},Ae=function(e){var t=Object(n.useContext)(w),a=t.pendingLaborRecord,l=t.getPendingLaborRecord,c=Object(d.i)().id,o=Object(n.useState)(1),E=Object(R.a)(o,2),i=E[0],u=(E[1],Object(d.g)());Object(n.useEffect)((function(){l(c)}),[i]);return r.a.createElement(r.a.Fragment,null,void 0!==a?r.a.createElement(r.a.Fragment,null,r.a.createElement(z,{content:X.PROGRESS_TIME}),r.a.createElement($.a,{gutter:{xs:24,sm:24,md:24,lg:32}},r.a.createElement(H.a,{className:"gutter-row",span:24},r.a.createElement("div",null,console.log(a.START_TIME),r.a.createElement(Ee,{title:X.WORKORDER,number:a.WORK_ORDER_NUMBER,desc:a.WO_DESCRIPTION}),r.a.createElement(Ee,{title:X.CUSTOMER,number:a.CUST_NAME}),r.a.createElement(Ee,{title:X.PLANT,number:a.INVENTORY_NUMBER,desc:a.INVENTORY_NAME}),r.a.createElement(Ee,{title:X.DEPARTMENT,number:a.DEPT_CODE,desc:a.DEPT_NAME}),r.a.createElement(Ee,{title:X.WORKCELLS,number:a.WORK_CELL_KEY,desc:a.WORK_CELL_NAME}),r.a.createElement(Ee,{title:X.EMPLOYEE,number:a.EMPLOYEE_KEY,desc:a.EMPLOYEE_NAME}),r.a.createElement(Ee,{title:X.LOBARACTIVITY,number:a.WORKCENTER_NAME})))),r.a.createElement($.a,{gutter:{xs:24,sm:24,md:24,lg:32}},r.a.createElement(H.a,{className:"gutter-row",offset:8,span:5},r.a.createElement("div",null,r.a.createElement(de,{name:"Elasped",time:a.START_TIME,hours:"HoursMinutes",color:"green"}))),r.a.createElement(H.a,{className:"gutter-row",offset:3,span:5},r.a.createElement("div",null,r.a.createElement(de,{name:"Stop Timer",time:"null",hours:"Review Labor",color:"red",timerHandler:function(){var e=new Date,t=["JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"][e.getMonth()],n=[[e.getDate(),t,e.getFullYear()].join("-"),(new Date).toLocaleString("en-GB").split(",")[1]].join(" "),r=void 0!==a.START_TIME?a.START_TIME.split(" "):"0 0",l=e.getHours()+":"+e.getMinutes()+":"+e.getSeconds(),o=Z.a.duration(r[1]),E=Z.a.duration(l)._milliseconds-o._milliseconds,i=se(E),m=(i.hour,i.minute,i.seconds,{PLANT_KEY:a.PLANT_KEY,DEPARTMENT_KEY:a.DEPARTMENT_KEY,EMPLOYEE_KEY:a.EMPLOYEE_KEY,WORK_CENTER_KEY:a.WORK_CENTER_KEY,WORK_CELL_KEY:a.WORK_CELL_KEY,LABOR_CLASS:null,WORK_ORDER_NUMBER:a.WORK_ORDER_NUMBER,START_TIME:a.START_TIME,STOP_TIME:n,LABOR_TIME:null,LABOR_RATE_TYPE:null,STATUS:"I"});console.log(m),P(c,m).then((function(e){e&&u.push("/review-timer")}))}}))))):null)};a(375);var he=function(e){var t=e.timerHandler,a=e.name,l=e.time,c=e.hours,o=e.color,E=e.border,i=e.txtColor,u=e.width,m=e.height,s=Object(n.useState)(0),d=Object(R.a)(s,2),O=(d[0],d[1]),b=Object(n.useState)(l),p=Object(R.a)(b,2),_=p[0],T=p[1];return Object(n.useEffect)((function(){var e=new Date,t=void 0!==l?l.split(" "):"0 0",a=e.getHours()+":"+e.getMinutes()+":"+e.getSeconds(),n=Z.a.duration(t[1]),r=Z.a.duration(a)._milliseconds-n._milliseconds,c=se(r),o=c.hour+":"+c.minute+":"+c.seconds;console.log(o),O((function(e){return e+1})),T(o)}),[1]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"ui-timer-button",style:{background:o,border:"1px solid ".concat(E),color:i,width:u,height:m},onClick:t},r.a.createElement("p",null,a),r.a.createElement("p",null,"null"!==_?_:"and"),r.a.createElement("p",null,c)))},Le=(a(376),function(e){var t=Object(n.useContext)(w),a=(t.pendingLabor,t.pendingLaborRecord),l=t.getPendingLaborRecord,c=Object(d.i)().id,o=Object(n.useState)(0),E=Object(R.a)(o,2),i=E[0];E[1],Object(d.g)();Object(n.useEffect)((function(){l(c)}),[i]);return r.a.createElement(r.a.Fragment,null,void 0!==a?r.a.createElement(r.a.Fragment,null,r.a.createElement(z,{content:X.LABORCONFIRM,track:!0}),r.a.createElement($.a,{gutter:{xs:8,sm:16,md:24,lg:32}},r.a.createElement(H.a,{className:"gutter-row",span:12},r.a.createElement("div",null,r.a.createElement(Ee,{title:X.WORKORDER,number:a.WORK_ORDER_NUMBER,desc:a.WO_DESCRIPTION}),r.a.createElement(Ee,{title:X.CUSTOMER,number:a.CUST_NAME}),r.a.createElement(Ee,{title:X.PLANT,number:a.INVENTORY_NUMBER,desc:a.INVENTORY_NAME}),r.a.createElement(Ee,{title:X.DEPARTMENT,number:a.DEPT_CODE,desc:a.DEPT_NAME}),r.a.createElement(Ee,{title:X.WORKCELLS,number:a.WORK_CELL_KEY,desc:a.WORK_CELL_NAME}),r.a.createElement(Ee,{title:X.EMPLOYEE,number:a.EMPLOYEE_KEY,desc:a.EMPLOYEE_NAME}),r.a.createElement(Ee,{title:X.LOBARACTIVITY,number:a.WORKCENTER_NAME}))),r.a.createElement(H.a,{className:"gutter-row",span:12},r.a.createElement("div",{className:"big-timer"},r.a.createElement(he,{name:"Complete",time:a.START_TIME,hours:"HoursMinutes",txtColor:"black",color:"white",border:"black",width:"250px",height:"250px"}))))):null)}),ve=a(108),Ce=a(109),Me=a(113),Se=a(110),ye=a(85),Ke=a(114),Ye=(a(137),function(e){function t(){var e,a;Object(ve.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(Me.a)(this,(e=Object(Se.a)(t)).call.apply(e,[this].concat(r)))).refresh=function(){return!0},a.deleteItem=function(e){return D(e).then((function(e){e&&(_e.a.success("successfully deleted"),setTimeout((function(){window.location.reload(!1)}),2e3))}))},a}return Object(Ke.a)(t,e),Object(Ce.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.match,n=t.itemKey,l=(t.allowDelete,t.allowEdit),c=(t.deleteTooltip,t.deleteFunction,r.a.createElement(i.a,null,r.a.createElement(i.a.Item,{key:"0"},r.a.createElement(b.b,{to:"".concat(a.url,"/").concat(n)},"View")),r.a.createElement(i.a.Item,{key:"1"},r.a.createElement(b.b,{to:"".concat(a.url,"/edit/").concat(n)},l?"Edit":"View")),r.a.createElement(i.a.Item,{key:"delete",icon:r.a.createElement(m.a,null)},r.a.createElement("a",{href:"#",onClick:function(t){window.confirm("Are you sure you wish to delete this item?")&&e.deleteItem(n)}},"Delete"))));return r.a.createElement(E.a,{overlay:c,trigger:["click"]},r.a.createElement("a",{className:"ant-dropdown-link",href:"#"},r.a.createElement(s.a,null)))}}]),t}(r.a.Component)),je=Object(d.j)(Ye),Pe=a(205),De=function(e){function t(e){var a;Object(ve.a)(this,t),(a=Object(Me.a)(this,Object(Se.a)(t).call(this,e))).assignListingData=function(e){if(e){var t=e.map((function(e){return{KEY:e.KEY,WORK_ORDER_NUMBER:e.WORK_ORDER_NUMBER,CUST_NAME:e.CUST_NAME,EMPLOYEE_NAME:e.EMPLOYEE_NAME,LABOR_CLASS:e.LABOR_CLASS,WORK_CELL_NAME:e.WORK_CELL_NAME,START_TIME:e.START_TIME,STOP_TIME:e.STOP_TIME,LABOR_TIME:e.LABOR_TIME,LABOR_RATE_TYPE:e.LABOR_RATE_TYPE,INVENTORY_NAME:e.INVENTORY_NAME}}));a.setState({rowData:t,rowFilterData:t})}},a.handleError=function(e,t){var n,r=a.state.errors;a.props.setErrorState;n=e.data?Object(A.a)({},e.data,{currentActivity:"selecting Data to Display Sales Class Listing"}):{title:t,sourceType:"Network",details:e.toString(),sourceName:"SalesClassListing.js",currentActivity:"selecting Data to Display Sales Class Listing",timestamp:Date().toString()},console.log(e),r.push(n),a.setState({errors:r})},a.onSelectChange=function(e){console.log("selectedRowKeys changed: ",e),a.setState({selectedRowKeys:e})};var n=a.props,l=n.match;n.permissions;return a.state={columnDefs:[{headerName:"KEY",field:"KEY",pinned:!0,cellClass:["lock-pinned","stringType"],width:125,filter:"agTextColumnFilter"},{headerName:"WORK_ORDER_NUMBER",field:"WORK_ORDER_NUMBER",pinned:!0,cellClass:["lock-pinned","stringType"],width:125,filter:"agTextColumnFilter"},{headerName:"CUST_NAME",field:"CUST_NAME",width:200,filter:"agTextColumnFilter"},{headerName:"EMPLOYEE_NAME",field:"EMPLOYEE_NAME",width:200,filter:"agTextColumnFilter"},{headerName:"LABOR_CLASS",field:"LABOR_CLASS",cellStyle:{textAlign:"center"},width:150,filter:"agNumberColumnFilter",tooltipField:"LABOR_CLASS"},{headerName:"WORK_CELL_NAME",field:"WORK_CELL_NAME",cellStyle:{textAlign:"center"},width:145,filter:"agNumberColumnFilter",tooltipField:"WORK_CELL_NAME"},{headerName:"START_TIME",field:"START_TIME",cellStyle:{textAlign:"left"},filter:"agTextColumnFilter",width:190},{headerName:"STOP_TIME",field:"STOP_TIME",cellStyle:{textAlign:"left"},filter:"agTextColumnFilter",width:190},{headerName:"LABOR_TIME",field:"LABOR_TIME",cellStyle:{textAlign:"center"},width:150,sort:"desc"},{headerName:"LABOR_RATE_TYPE",field:"LABOR_RATE_TYPE",cellStyle:{textAlign:"center"},width:150,sort:"desc"},{headerName:null,cellStyle:{border:"0px"},cellRendererFramework:function(e){return r.a.createElement(je,{itemKey:e.data.KEY,allowDelete:!0,allowEdit:!0,deleteTooltip:"Sales Classes cannot be deleted"})},width:50,pinned:"right",sortable:!1,filter:!1,menuTabs:[],resizable:!1,selectable:!1}],defaultColDef:{sortable:!0,filter:!0,resizable:!0,menuTabs:["filterMenuTab"]},rowData:[],rowFilterData:[],errors:[],plant:{},plantFilter:"All",printMode:/print/g.test(l),inputValue:{workOrder:""}},a.handleClick=a.handleClick.bind(Object(ye.a)(a)),a.onChangeHandler=a.onChangeHandler.bind(Object(ye.a)(a)),a.onChangePlantFilter=a.onChangePlantFilter.bind(Object(ye.a)(a)),a}return Object(Ke.a)(t,e),Object(Ce.a)(t,[{key:"componentDidMount",value:function(){var e=this;Y(this.state.inputValue.workOrder).then(this.assignListingData).catch((function(e){return console.log(e)})),M().then((function(t){e.setState({plant:t})}))}},{key:"handleClick",value:function(e){var t=this;e.preventDefault(),k(this.state.inputValue.workOrder).then((function(e){return t.setState({rowData:e})})).catch((function(e){return console.log(e)}))}},{key:"onChangeHandler",value:function(e){this.setState({inputValue:{workOrder:e.target.value}})}},{key:"onChangePlantFilter",value:function(e){var t=f.a.filter(this.state.rowFilterData,(function(t){if(t.INVENTORY_NAME===e)return t}));this.setState({plantFilter:e,rowData:t})}},{key:"render",value:function(){var e=pe.a.Option,t=this.state,a=t.columnDefs,n=t.defaultColDef,l=t.rowData,c=t.errors,o=t.printMode,E=(t.selectedRowKeys,t.inputValue),i=(this.onSelectChange,{domLayout:o?"print":"normal",popupParent:document.querySelector("body")});return c.length?"":r.a.createElement("div",{className:"ag-theme-balham",style:{height:"600px"}},r.a.createElement("div",{className:"labor-review-filter"},r.a.createElement("div",{className:"__work-order"},r.a.createElement("div",{className:"__mr-2"},r.a.createElement("p",null,"Plant")),r.a.createElement("div",null,r.a.createElement(le.a.Group,{compact:!0},r.a.createElement(pe.a,{value:this.state.plantFilter,name:"plant",onChange:this.onChangePlantFilter},this.state.plant.length>0?this.state.plant.map((function(t,a){return r.a.createElement(e,{key:a,value:t.DEPARTMENT_NAME},t.DEPARTMENT_NAME)})):null)))),r.a.createElement("div",{className:"__work-order mt-2 mb-2"},r.a.createElement("div",{className:"__mr-1"},r.a.createElement("p",null,"Work Order")),r.a.createElement("div",null,r.a.createElement(le.a,{name:"workOrder",onChange:this.onChangeHandler,value:E.workOrder})),r.a.createElement("div",{className:"ml-10"},r.a.createElement(u.a,{type:"primary",onClick:this.handleClick},"Enter")))),r.a.createElement(Pe.AgGridReact,{animateRows:!0,suppressRowClickSelection:!0,defaultColDef:n,columnDefs:a,rowData:l,gridOptions:i,scrollbarWidth:8}))}}]),t}(n.Component),ke=pe.a.Option,Ie=le.a.TextArea,we=function(){var e=Object(d.g)(),t=Object(n.useContext)(w),a=t.pendingLaborRecord,l=(t.panelShop,t.workCellData,t.getWorkCell,t.getPanalShop,t.getPendingLaborRecord,Object(n.useState)([])),c=Object(R.a)(l,2),o=c[0],E=c[1],i=Object(n.useState)(""),m=Object(R.a)(i,2),s=m[0],O=m[1],b=Object(n.useState)(""),p=Object(R.a)(b,2),_=p[0],T=p[1],g=Object(n.useState)(""),f=Object(R.a)(g,2),N=f[0],A=f[1],h=Object(n.useState)(""),L=Object(R.a)(h,2),v=L[0],C=L[1],M=Object(n.useState)(""),S=Object(R.a)(M,2),y=S[0],K=S[1],Y=Object(n.useState)(""),D=Object(R.a)(Y,2),k=D[0],I=D[1],W=Object(n.useState)(X.LABOR_RATE[0]),B=Object(R.a)(W,2),x=B[0],G=B[1],F=Object(d.i)().id;Object(n.useEffect)((function(){j(F).then((function(e){E(e[0]);var t=e[0].START_TIME.split(" "),a=null!==e[0].STOP_TIME?e[0].STOP_TIME.split(" "):"";console.log(ue(t[0])),T(t[1]),A(ue(t[0])),C(a[1]),K(ue(a[0])),I(e[0].INVENTORY_NAME),O(e[0].NOTE)}))}),[1]);var U=function(e){O(e.target.value)},V=r.a.createElement(r.a.Fragment,null,X.LABOR_RATE.map((function(e,t){return r.a.createElement(ke,{key:t,value:e},e)})));return r.a.createElement(r.a.Fragment,null,r.a.createElement($.a,{gutter:{xs:8,sm:16,md:24,lg:32}},r.a.createElement("form",{className:"labor-record-form"},r.a.createElement(H.a,{className:"gutter-row",span:20},r.a.createElement("div",null,r.a.createElement(z,{content:X.WORKCELL_PROGRESS_TIMERS}),r.a.createElement(Ee,{title:"Work Order ",number:o.WORK_ORDER_NUMBER}),r.a.createElement(Ee,{title:"Customar ",number:o.CUST_NAME}),r.a.createElement(Ee,{title:"Work Cell ",number:o.WORK_CELL_NAME}),r.a.createElement(Ee,{title:"Employee ",number:o.EMPLOYEE_NAME}),r.a.createElement(Ee,{title:"Labor Performed"},r.a.createElement(le.a.Group,{compact:!0},r.a.createElement(pe.a,{value:k,onChange:function(e){I(e)},name:"laborPerformed"},r.a.createElement(ke,{value:o.INVENTORY_NAME,onChange:U},o.INVENTORY_NAME)))),r.a.createElement(Ee,{title:"Start Time"},r.a.createElement("div",{className:"data-set"},r.a.createElement("div",null,r.a.createElement(le.a.Group,{compact:!0},r.a.createElement(Te.a,{onChange:function(e,t){A(t)},value:Z()(N,"DD-MM-YY"),format:"DD-MM-YYYY"}))),r.a.createElement("div",null,r.a.createElement(Re.a,{use12Hours:!0,format:"h:mm",onChange:function(e,t){T(t)},value:Z()(_,"HH:mm")})))),r.a.createElement(Ee,{title:"Stop Time"},r.a.createElement("div",{className:"data-set"},r.a.createElement("div",null,r.a.createElement(le.a.Group,{compact:!0},r.a.createElement(Te.a,{onChange:function(e,t){K(t)},value:Z()(y,"DD-MM-YYYY"),format:"DD-MM-YYYY"}))),r.a.createElement("div",null,r.a.createElement(Re.a,{use12Hours:!0,format:"h:mm",onChange:function(e,t){C(t)},value:Z()(v,"HH:mm")})))),r.a.createElement(Ee,{title:"Labor Rate"},r.a.createElement(le.a.Group,{compact:!0},r.a.createElement(pe.a,{value:x,onChange:function(e){G(e)},name:"laborRate"},V))),r.a.createElement(Ee,{title:"Labor Hours",number:a.LABOR_TIME}),r.a.createElement("div",null,r.a.createElement("p",null,"Note *"),r.a.createElement(Ie,{rows:4,name:"note",value:s,onChange:U,placeholder:"Note"})),r.a.createElement("div",{className:"footer-button"},r.a.createElement(u.a,{type:"primary",style:{backgroundColor:"red"},className:"time-button",onClick:function(){e.goBack()}}," ",r.a.createElement("b",null,"Cancel ",r.a.createElement("br",null)," Do not save changes ")),r.a.createElement(u.a,{type:"primary",className:"time-button",onClick:function(){var t=me(N,_),a=me(y,v),n={PLANT_KEY:o.PLANT_KEY,DEPARTMENT_KEY:o.DEPARTMENT_KEY,EMPLOYEE_KEY:o.EMPLOYEE_KEY,WORK_CENTER_KEY:o.WORK_CENTER_KEY,WORK_CELL_KEY:o.WORK_CELL_KEY,LABOR_CLASS:null,WORK_ORDER_NUMBER:o.WORK_ORDER_NUMBER,START_TIME:t,STOP_TIME:a,LABOR_TIME:null,LABOR_RATE_TYPE:null,NOTE:s,STATUS:"C"};P(o.KEY,n).then((function(t){_e.a.success({content:"Successfully Updated "}),e.push("/labor-review-and-posting")}))},style:{padding:"27px"}}," ",r.a.createElement("b",null,"Save Changes"))))))))},We=a(397),Be=[{title:"",dataIndex:"TRANSACTION_TYPE",key:""},{title:"Date",dataIndex:"ENTRY_DATE",key:"ENTRY_DATE",render:function(e){return r.a.createElement("a",null,e)}},{title:"Edit by",dataIndex:"ENTRY_FORM",key:"ENTRY_FORM"},{title:"Work Order",dataIndex:"ORIGINAL_WORK_ORDER_NUMBER",key:"ORIGINAL_WORK_ORDER_NUMBER"},{title:"Work Cell",dataIndex:"ORIGINAL_WORK_CELL_KEY",key:"ORIGINAL_WORK_CELL_KEY"},{title:"Employee",dataIndex:"ORIGINAL_EMPLOYEE_KEY",key:"ORIGINAL_EMPLOYEE_KEY"},{title:"Labor Performed",dataIndex:"ORIGINAL_WORK_CELL_KEY",key:"ORIGINAL_WORK_CELL_KEY"},{title:"Start Time",dataIndex:"ORIGINAL_START_TIME",key:"ORIGINAL_START_TIME"},{title:"Stop Time",dataIndex:"ORIGINAL_STOP_TIME",key:"ORIGINAL_STOP_TIME"},{title:"Note",key:"NOTE",dataIndex:"NOTE",render:function(e){return r.a.createElement("a",null,e)}}],xe=function(){var e=Object(n.useState)(1),t=Object(R.a)(e,2),a=t[0],l=(t[1],Object(n.useState)(1)),c=Object(R.a)(l,2),o=c[0],E=c[1],i=Object(n.useContext)(w),m=(i.getWorkCell,i.workCellData,i.getKeyData,i.keyData,i.getPanalShop,i.keyEmpty,Object(d.g)()),s=Object(d.i)().id;Object(n.useEffect)((function(){(function(e){return v.a.get("".concat(K,"/listLaborAuditTrail/").concat(e)).then((function(e){return e.data}))})(s).then((function(e){return E(e)}))}),[a]);return r.a.createElement("div",null,o.length>0?r.a.createElement(We.a,{columns:Be,dataSource:o}):"NO DATA",r.a.createElement("div",{className:"footer-cancle"},r.a.createElement(u.a,{type:"primary",className:"time-button",onClick:function(){m.goBack()},style:{backgroundColor:"rgba(0, 0, 0, 0.65)"}}," ",r.a.createElement("b",null,"Close This Page"))))},Ge=pe.a.Option,Fe=le.a.TextArea,Ue=function(){var e=Object(d.g)(),t=Object(n.useContext)(w),a=t.pendingLaborRecord,l=(t.panelShop,t.workCellData),c=(t.getWorkCell,t.getPanalShop,t.getPendingLaborRecord,Object(n.useState)("")),o=Object(R.a)(c,2),E=o[0],i=o[1],m=Object(n.useState)([]),s=Object(R.a)(m,2),O=s[0],b=(s[1],Object(n.useState)("")),p=Object(R.a)(b,2),_=p[0],T=(p[1],Object(n.useState)("")),g=Object(R.a)(T,2),f=g[0],N=g[1],A=Object(n.useState)(""),h=Object(R.a)(A,2),L=h[0],v=h[1],C=Object(n.useState)(""),K=Object(R.a)(C,2),Y=K[0],j=K[1],P=Object(n.useState)(""),D=Object(R.a)(P,2),k=D[0],I=D[1],W=Object(n.useState)(""),B=Object(R.a)(W,2),x=B[0],G=B[1],F=Object(n.useState)(""),U=Object(R.a)(F,2),V=U[0],J=U[1],q=Object(n.useState)(""),Q=Object(R.a)(q,2),Z=Q[0],ee=Q[1],te=Object(n.useState)(""),ae=Object(R.a)(te,2),ne=ae[0],re=ae[1],ce=Object(n.useState)(X.LABOR_RATE[0]),oe=Object(R.a)(ce,2),ie=oe[0],ue=(oe[1],Object(n.useState)([])),se=Object(R.a)(ue,2),de=se[0],Oe=se[1],be=Object(n.useState)([]),ge=Object(R.a)(be,2),fe=ge[0],Ne=ge[1],Ae=Object(n.useState)([]),he=Object(R.a)(Ae,2),Le=(he[0],he[1]);Object(d.i)().id;Object(n.useEffect)((function(){M().then((function(e){J(e[0].WORK_CELL_NAME),Ne(e)}))}),[1]);var ve=r.a.createElement(r.a.Fragment,null,fe.length>0?fe.map((function(e,t){return r.a.createElement(Ge,{key:t,value:e.WORK_CELL_NAME},e.WORK_CELL_NAME)})):null),Ce=r.a.createElement(r.a.Fragment,null,de.length>0?de.map((function(e,t){return r.a.createElement(Ge,{key:t,value:e.NAME},e.NAME)})):null);return r.a.createElement(r.a.Fragment,null,r.a.createElement($.a,{gutter:{xs:8,sm:16,md:24,lg:32}},r.a.createElement(H.a,{className:"gutter-row",span:20},r.a.createElement("div",null,r.a.createElement(z,{content:X.WORKCELL_PROGRESS_TIMERS}),r.a.createElement(Ee,{title:"Work Order"},r.a.createElement(le.a,{placeholder:"Enter Work Order",value:f,name:"workOrder",onChange:function(e){y(e.target.value).then((function(e){Le(e),console.log(e)})),N(e.target.value)}})),r.a.createElement(Ee,{title:"Customar"},r.a.createElement(le.a,{placeholder:"Customar",name:"customar",value:E,onChange:function(e){i(e.target.value)}})),r.a.createElement(Ee,{title:"Work Cell"},r.a.createElement(le.a.Group,{compact:!0},r.a.createElement(pe.a,{value:V,onChange:function(e){fe.map((function(t){t.WORK_CELL_NAME===e&&(J(e),S(t.DEPARTMENT_KEY).then((function(e){re(e[0].DESCRIPTION),Oe(e),ee(e[0].NAME)})))}))}},ve))),r.a.createElement(Ee,{title:"Employee"},r.a.createElement(le.a.Group,{compact:!0},r.a.createElement(pe.a,{value:Z,onChange:function(e){l.map((function(t){if(e===t.WORK_CELL_NAME)return t}));ee(e)}},Ce))),r.a.createElement(Ee,{title:"Labor Activity"},r.a.createElement(le.a.Group,{compact:!0},r.a.createElement(pe.a,{value:ne}))),r.a.createElement(Ee,{title:"Start Time"},r.a.createElement("div",{className:"data-set"},r.a.createElement("div",null,r.a.createElement(le.a.Group,{compact:!0},r.a.createElement(Te.a,{onChange:function(e,t){j(t)},format:"YYYY-MM-DD"}))),r.a.createElement("div",null,r.a.createElement(Re.a,{use12Hours:!0,format:"h:mm",onChange:function(e,t){v(t)}})))),r.a.createElement(Ee,{title:"Stop Time"},r.a.createElement("div",{className:"data-set"},r.a.createElement("div",null,r.a.createElement(le.a.Group,{compact:!0},r.a.createElement(Te.a,{onChange:function(e,t){G(t)},format:"YYYY-MM-DD"}))),r.a.createElement("div",null,r.a.createElement(Re.a,{use12Hours:!0,format:"h:mm",onChange:function(e,t){I(t)}})))),r.a.createElement(Ee,{title:"Labor Hours",number:a.LABOR_TIME}),r.a.createElement("div",null,r.a.createElement("p",null,"Note *"),r.a.createElement(Fe,{rows:4,name:"note",value:_,placeholder:"Note"})),r.a.createElement("div",{className:"footer-button"},r.a.createElement(u.a,{type:"primary",style:{backgroundColor:"red"},className:"time-button",onClick:function(){e.goBack()}}," ",r.a.createElement("b",null,"Cancel ",r.a.createElement("br",null)," Do not save changes ")),r.a.createElement(u.a,{type:"primary",className:"time-button",onClick:function(){var e=me(Y,L),t=me(x,k);null===fe?O.PLANT_KEY:fe.PLANT_KEY,null===fe?O.DEPARTMENT_KEY:fe.DEPARTMENT_KEY,a.EMPLOYEE_KEY,a.WORK_CENTER_KEY,a.WORK_CELL_KEY;console.log("saveChange",{start_time:e,stop_time:t,note:_,laborRate:ie,startTime:L,startDate:Y,workOrderNumber:f,customar:E}),_e.a.success({content:"please check data in console "})},style:{padding:"27px"}}," ",r.a.createElement("b",null,"Save Changes")))))))},He=(a(393),[{component:ee,path:"/work-cell",exact:!0,title:"Work Cell"},{component:re,path:"/panel-shop/:id",isBreadcrumbVisible:!0,exact:!0,title:"PanelShop"},{component:ce,path:"/job-posting-employee/:id",exact:!0,title:"JobPosting"},{component:oe,path:"/labor-activity/:id",exact:!0,title:"LaborActivity"},{component:ie,path:"/labor-confirm",exact:!0,title:"labor-confirm"},{component:be,path:"/progress-timers",exact:!0,title:"ProgressTimers"},{component:Ne,path:"/review-timer",exact:!0,title:"ReviewTimer"},{component:Ae,path:"/progress-time-stop/:id",exact:!0,title:"ProgressTimeStop"},{component:Le,path:"/labor-record-complete/:id",exact:!0,title:"LaborRecordComplete"},{component:De,path:"/labor-review-and-posting",exact:!0,title:"LaborReviewAndPosting"},{component:we,path:"/labor-review-and-posting/edit/:id",exact:!0,title:"LaborReviewAndPostingEdit"},{component:xe,path:"/labor-review-and-posting/:id",exact:!0,title:"LaborReviewAndPosting"},{component:Ue,path:"/labor-review-and-posting-add-labor-record",exact:!0,title:"LaborReviewAndPostingAdd"},{component:function(){var e=Object(n.useContext)(w),t=e.getPendingLabor,a=e.pendingLabor,l=(e.startTime,Object(n.useState)(1)),c=Object(R.a)(l,2),o=c[0],E=(c[1],Object(n.useState)("All")),i=Object(R.a)(E,2),u=i[0],m=(i[1],pe.a.Option),s=Object(d.g)();Object(n.useEffect)((function(){t()}),[o]);var O,b=a.length>0?f.a.orderBy(a,["KEY"],["desc"]):null;return b?(O=f.a.filter(b,(function(e){return null===e.STOP_TIME})).map((function(e,t){var a=f.a.split(e.START_TIME," ")[1];return r.a.createElement(Oe,{key:t,employe:e.EMPLOYEE_KEY,wOrder:e.WORK_ORDER_NUMBER,activity:"22",start_time:a,start_time_count:e.START_TIME,employeName:e.EMPLOYEE_NAME,wcName:e.WORK_CELL_NAME,woDes:e.WO_DESCRIPTION,timerHandler:function(){return t=e.KEY,void s.push("/progress-time-stop/".concat(t));var t}})})),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"labor-tracker"},r.a.createElement("div",{className:"__work-order"},r.a.createElement("div",{className:"__mr-2"},r.a.createElement("p",null,"Work Cell")),r.a.createElement("div",null,r.a.createElement(le.a.Group,{compact:!0},r.a.createElement(pe.a,{value:u,name:"workCell"},r.a.createElement(m,{value:"All"},"All"))))),r.a.createElement("div",{style:{marginRight:"25px",textAlign:"center"}},r.a.createElement("p",null,"Click a timer to access ",r.a.createElement("br",null)," the job "))),O)):r.a.createElement(U,null)},path:"/labor-tracker",exact:!0,title:"LaborTracker"}]),Ve=a(215),Je=function(e){var t=e.routes,a=e.defaultRoute;Object(n.useContext)(w).keyData;return r.a.createElement(d.d,null,t.map((function(t,a){var n=t.component,l=t.exact,c=t.path;return r.a.createElement(d.b,{exact:l,key:a,path:c,render:function(a){var l=e.routes.filter((function(e){var t=e.path;return a.match.path.includes(t)})).map((function(e){var t=e.path,n=Object(Ve.a)(e,["path"]);return Object(A.a)({path:Object.keys(a.match.params).length?Object.keys(a.match.params).reduce((function(e,t){return e.replace(":".concat(t),a.match.params[t])}),t):t},n)}));return console.log("Generated crumbs for ".concat(l)),l.map((function(e){var t=e.title,a=e.path;return console.log({title:t,path:a})})),r.a.createElement("div",{className:"p-8"},r.a.createElement(n,Object.assign({},e,t)))}})})),r.a.createElement(d.a,{to:a}))},qe=o.a.Content,ze=function(e){var t=Object(d.h)(),a=Object(n.useContext)(w);a.keyData,a.getKeyData,a.getPendingLabor,a.isActive,a.isActiveFun,Object(d.i)().id;return r.a.createElement(W,null,r.a.createElement(n.Suspense,{fallback:r.a.createElement(U,null)}," ",t.pathname.includes("labor-review-and-posting")?r.a.createElement(_,{for:"supervisor"}):r.a.createElement(r.a.Fragment,null,r.a.createElement(_,null),r.a.createElement(G,null)),r.a.createElement(o.a,{className:"layout"},r.a.createElement(qe,{style:{padding:"0 50px"}},r.a.createElement(Je,{routes:He,defaultRoute:He[0].path})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Xe=a(27),$e=Object(Xe.a)();c.a.render(r.a.createElement(b.a,{history:$e},r.a.createElement(ze,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[217,1,2]]]);
//# sourceMappingURL=main.1a77869b.chunk.js.map